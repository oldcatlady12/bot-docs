<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media Recommendation Bot - Documentation</title>
    <style>
        :root {
            --bg-primary: #0f1419;
            --bg-secondary: #1a1f2e;
            --bg-card: #1e2433;
            --text-primary: #e7e9ea;
            --text-secondary: #8b98a5;
            --accent-blue: #1d9bf0;
            --accent-green: #00ba7c;
            --accent-purple: #7856ff;
            --accent-pink: #e91e8c;
            --border-color: #2f3542;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: var(--bg-primary); color: var(--text-primary); line-height: 1.6; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 24px; }
        header { background: var(--bg-secondary); border-bottom: 1px solid var(--border-color); padding: 20px 0; position: sticky; top: 0; z-index: 100; }
        .header-content { display: flex; justify-content: space-between; align-items: center; }
        .back-link { color: var(--accent-blue); text-decoration: none; display: flex; align-items: center; gap: 8px; }
        .bot-icon { width: 48px; height: 48px; background: linear-gradient(135deg, #e91e8c, #7856ff); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 24px; }
        main { padding: 40px 0; }
        .content-section { margin-bottom: 48px; }
        .content-section h2 { font-size: 1.75rem; margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid var(--border-color); }
        .content-section h3 { font-size: 1.25rem; margin: 24px 0 12px; color: var(--accent-purple); }
        .content-section p { color: var(--text-secondary); margin-bottom: 16px; }
        .card { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 20px; margin-bottom: 16px; }
        .card h4 { margin-bottom: 8px; }
        .feature-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px; margin-bottom: 24px; }
        .feature-item { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 12px; padding: 16px; }
        .feature-icon { font-size: 24px; margin-bottom: 8px; }
        .feature-item h4 { margin-bottom: 4px; }
        .feature-item p { color: var(--text-secondary); font-size: 0.9rem; margin: 0; }
        .command-table { width: 100%; border-collapse: collapse; margin-bottom: 24px; }
        .command-table th, .command-table td { text-align: left; padding: 12px 16px; border-bottom: 1px solid var(--border-color); }
        .command-table th { background: var(--bg-secondary); color: var(--text-secondary); font-weight: 600; font-size: 0.85rem; text-transform: uppercase; }
        .command-name { font-family: 'Consolas', monospace; background: var(--bg-secondary); padding: 4px 8px; border-radius: 4px; color: var(--accent-purple); }
        .code-block { background: var(--bg-secondary); border: 1px solid var(--border-color); border-radius: 8px; padding: 16px; font-family: 'Consolas', monospace; font-size: 0.9rem; overflow-x: auto; margin-bottom: 16px; }
        .tag { display: inline-block; padding: 4px 10px; border-radius: 20px; font-size: 0.8rem; margin-right: 6px; }
        .tag.user { background: rgba(0, 186, 124, 0.2); color: var(--accent-green); }
        .tag.admin { background: rgba(255, 122, 0, 0.2); color: #ff7a00; }
        ul { margin-left: 24px; margin-bottom: 16px; color: var(--text-secondary); }
        li { margin-bottom: 8px; }
        .category-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; margin-bottom: 24px; }
        .category-item { background: var(--bg-card); border: 1px solid var(--border-color); border-radius: 8px; padding: 12px; text-align: center; }
        .category-item .emoji { font-size: 28px; display: block; margin-bottom: 4px; }
        .category-item .name { font-weight: 600; }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="back-link"><span>&larr;</span> Back to All Bots</a>
                <div style="display: flex; align-items: center; gap: 12px;">
                    <div class="bot-icon">&#127916;</div>
                    <h1>Media Recommendation Bot</h1>
                </div>
            </div>
        </div>
    </header>

    <main>
        <div class="container">
            <section class="content-section">
                <h2>Overview</h2>
                <p>The Media Recommendation Bot is a comprehensive recommendation tracking system for Discord servers. Members can recommend and vote on various types of media including games, movies, TV shows, anime, manga, and more. Features automatic forum organization, voting systems, leaderboards, and optional Google Calendar integration for unreleased media.</p>

                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-icon">&#127918;</div>
                        <h4>Multi-Category Support</h4>
                        <p>11 media categories from video games to websites</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">&#128077;</div>
                        <h4>Like System</h4>
                        <p>Like recommendations with persistent tracking and real-time leaderboard updates</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">&#128483;</div>
                        <h4>Forum Organization</h4>
                        <p>Auto-creates forums and genre threads for each category</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">&#128197;</div>
                        <h4>Calendar Integration</h4>
                        <p>Add unreleased media to Google Calendar</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">&#127942;</div>
                        <h4>Leaderboards</h4>
                        <p>Track top contributors and popular recommendations</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">&#128269;</div>
                        <h4>Media Info Lookup</h4>
                        <p>Auto-fetch details from OMDB, Jikan, and RAWG APIs</p>
                    </div>
                </div>
            </section>

            <section class="content-section">
                <h2>Media Categories</h2>
                <p>The bot supports 11 different media categories, each with its own dedicated forum channel:</p>
                <div class="category-grid">
                    <div class="category-item">
                        <span class="emoji">&#127918;</span>
                        <span class="name">Video Games</span>
                    </div>
                    <div class="category-item">
                        <span class="emoji">&#127922;</span>
                        <span class="name">Board Games</span>
                    </div>
                    <div class="category-item">
                        <span class="emoji">&#127183;</span>
                        <span class="name">Card Games</span>
                    </div>
                    <div class="category-item">
                        <span class="emoji">&#127916;</span>
                        <span class="name">Movies</span>
                    </div>
                    <div class="category-item">
                        <span class="emoji">&#128250;</span>
                        <span class="name">TV Shows</span>
                    </div>
                    <div class="category-item">
                        <span class="emoji">&#128126;</span>
                        <span class="name">Anime</span>
                    </div>
                    <div class="category-item">
                        <span class="emoji">&#128214;</span>
                        <span class="name">Manga</span>
                    </div>
                    <div class="category-item">
                        <span class="emoji">&#128218;</span>
                        <span class="name">Comics</span>
                    </div>
                    <div class="category-item">
                        <span class="emoji">&#127912;</span>
                        <span class="name">Cartoons</span>
                    </div>
                    <div class="category-item">
                        <span class="emoji">&#128308;</span>
                        <span class="name">Streams</span>
                    </div>
                    <div class="category-item">
                        <span class="emoji">&#127760;</span>
                        <span class="name">Websites</span>
                    </div>
                </div>
            </section>

            <section class="content-section">
                <h2>Setup & Configuration</h2>
                <h3>Installation</h3>
                <div class="code-block">
# Navigate to bot directory
cd media-recommendation-bot

# Create virtual environment
python -m venv venv

# Activate venv (Windows)
.\venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt

# Configure .env file (copy from .env.example)
# DISCORD_TOKEN=your_token_here
# OMDB_API_KEY=your_omdb_key (optional)
# RAWG_API_KEY=your_rawg_key (optional)

# Run the bot
python bot.py
                </div>

                <h3>Bot Invite Scopes</h3>
                <p>When inviting the bot to your server, enable these OAuth2 scopes:</p>
                <ul>
                    <li><strong>bot</strong> - Basic bot functionality</li>
                    <li><strong>applications.commands</strong> - Slash commands (if used)</li>
                </ul>

                <h3>Bot Permissions</h3>
                <p>The bot requires these permissions:</p>
                <ul>
                    <li>Manage Channels - Create forum channels for categories</li>
                    <li>Send Messages - Post recommendations and leaderboards</li>
                    <li>Create Public Threads - Create genre threads in forums</li>
                    <li>Send Messages in Threads - Post in forum threads</li>
                    <li>Manage Messages - Update leaderboard messages</li>
                    <li>Read Message History - Track existing recommendations</li>
                    <li>Add Reactions - Vote button functionality</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>Commands</h2>
                <h3>Setup Commands</h3>
                <table class="command-table">
                    <thead><tr><th>Command</th><th>Description</th><th>Access</th></tr></thead>
                    <tbody>
                        <tr><td><span class="command-name">!setup_media</span></td><td>Create all media category forums and genre threads (initial setup)</td><td><span class="tag admin">Admin</span></td></tr>
                        <tr><td><span class="command-name">!setup_recommend_channel</span></td><td>Set up the current channel as the recommendation submission channel</td><td><span class="tag admin">Admin</span></td></tr>
                        <tr><td><span class="command-name">!setup_missing</span></td><td>Check and create any missing categories, forums, leaderboards, daily posts, and genre posts. Use this to fix incomplete setups or add missing components.</td><td><span class="tag admin">Admin</span></td></tr>
                    </tbody>
                </table>

                <h3>User Commands</h3>
                <table class="command-table">
                    <thead><tr><th>Command</th><th>Description</th><th>Access</th></tr></thead>
                    <tbody>
                        <tr><td><span class="command-name">!leaderboard [category]</span></td><td>View top recommendations. Optional category filter.</td><td><span class="tag user">Everyone</span></td></tr>
                        <tr><td><span class="command-name">!random_rec [category]</span></td><td>Get a random recommendation from the database</td><td><span class="tag user">Everyone</span></td></tr>
                        <tr><td><span class="command-name">!media_stats</span></td><td>View server statistics (total recommendations, votes, etc.)</td><td><span class="tag user">Everyone</span></td></tr>
                    </tbody>
                </table>

                <h3>Calendar Commands (Optional)</h3>
                <table class="command-table">
                    <thead><tr><th>Command</th><th>Description</th><th>Access</th></tr></thead>
                    <tbody>
                        <tr><td><span class="command-name">!setup_calendar</span></td><td>View Google Calendar setup instructions</td><td><span class="tag admin">Admin</span></td></tr>
                        <tr><td><span class="command-name">!authenticate_calendar</span></td><td>Authenticate with Google Calendar API</td><td><span class="tag admin">Admin</span></td></tr>
                        <tr><td><span class="command-name">!set_calendar &lt;id&gt;</span></td><td>Set which calendar to use for release dates</td><td><span class="tag admin">Admin</span></td></tr>
                        <tr><td><span class="command-name">!list_calendars</span></td><td>View all available Google Calendars</td><td><span class="tag admin">Admin</span></td></tr>
                    </tbody>
                </table>
            </section>

            <section class="content-section">
                <h2>How to Submit Recommendations</h2>
                <p>After setting up the bot with <code>!setup_recommend_channel</code>, users can submit recommendations using the dropdown menu. The streamlined process:</p>
                <ol style="margin-left: 24px; margin-bottom: 16px; color: var(--text-secondary);">
                    <li>Use the dropdown in the recommendation channel to select media type</li>
                    <li>Choose release status: "Already Released" or "Upcoming / Not Released Yet"</li>
                    <li>Enter the title and optionally a YouTube or IMDB link in the search form</li>
                    <li>If multiple results are found, select the correct one from the list (or choose "Enter manually")</li>
                    <li>For games, specify the game type (Video, Board, or Card)</li>
                    <li>Select the genre (Action, Comedy, Horror, etc.)</li>
                    <li>Review and confirm your recommendation</li>
                    <li>Your recommendation is posted to the appropriate forum with a Like button</li>
                </ol>

                <h3>Search Features</h3>
                <ul>
                    <li><strong>Title Search</strong> - Enter the media name to search</li>
                    <li><strong>IMDB Link</strong> - Paste an IMDB URL to auto-fetch exact media info</li>
                    <li><strong>YouTube Link</strong> - Include a trailer or review link</li>
                    <li><strong>Multiple Results</strong> - Choose from search results if multiple matches found</li>
                    <li><strong>Manual Entry</strong> - Enter details manually if the search doesn't find your media</li>
                </ul>

                <h3>Likes & Leaderboards</h3>
                <p>Each recommendation has a Like button. Users can like a recommendation once, and likes are tracked persistently. Leaderboards show the top 5 most-liked recommendations per category and update in real-time when votes are cast.</p>

                <h3>Navigation</h3>
                <ul>
                    <li><strong>Back Button</strong> - Return to media type selection</li>
                    <li><strong>Cancel Button</strong> - Cancel the recommendation and reset the menu</li>
                    <li><strong>Refresh Button</strong> - Reset the recommendation menu to its initial state</li>
                </ul>
            </section>

            <section class="content-section">
                <h2>Forum Organization</h2>
                <p>The bot automatically creates organized forum channels for each media category:</p>
                <div class="card">
                    <h4>Category Forums</h4>
                    <p>Each media type gets its own forum channel (e.g., "video-games-recommendations", "movies-recommendations")</p>
                </div>
                <div class="card">
                    <h4>Genre Threads</h4>
                    <p>Within each forum, threads are created for each genre (Action, Comedy, Horror, RPG, etc.) keeping recommendations organized and easy to browse.</p>
                </div>
                <div class="card">
                    <h4>Leaderboard Updates</h4>
                    <p>The bot maintains leaderboard posts showing the top 5 most-liked recommendations in each category. Updates in real-time when likes are added.</p>
                </div>
                <div class="card">
                    <h4>Auto-Delete Sync</h4>
                    <p>When an admin deletes a recommendation post from a forum, the bot automatically removes it from the database and updates the leaderboard.</p>
                </div>
            </section>

            <section class="content-section">
                <h2>Auto-Fetched Media Info</h2>
                <p>The bot can automatically fetch additional information for certain media types using external APIs:</p>
                <table class="command-table">
                    <thead><tr><th>Media Type</th><th>API Source</th><th>Info Fetched</th></tr></thead>
                    <tbody>
                        <tr><td>Movies & TV Shows</td><td>OMDB API</td><td>Year, Rating, Plot, Poster</td></tr>
                        <tr><td>Anime & Manga</td><td>Jikan API</td><td>Synopsis, Score, Episodes, Image</td></tr>
                        <tr><td>Video Games</td><td>RAWG API</td><td>Release Date, Rating, Description, Image</td></tr>
                    </tbody>
                </table>
                <p><em>Note: API keys are optional. The bot works without them but won't fetch additional details.</em></p>
            </section>

            <section class="content-section">
                <h2>Google Calendar Integration</h2>
                <p>Optionally track unreleased media by adding release dates to Google Calendar:</p>
                <ol style="margin-left: 24px; margin-bottom: 16px; color: var(--text-secondary);">
                    <li>Go to <a href="https://console.cloud.google.com" style="color: var(--accent-blue);">Google Cloud Console</a></li>
                    <li>Create a new project and enable the Google Calendar API</li>
                    <li>Create OAuth 2.0 credentials (Desktop application type)</li>
                    <li>Download <code>credentials.json</code> and place it in the bot folder</li>
                    <li>Run <code>!authenticate_calendar</code> - a browser will open to authorize</li>
                    <li>Run <code>!set_calendar &lt;calendar_id&gt;</code> to select which calendar to use</li>
                </ol>
                <p>When unreleased media is recommended, the bot will automatically add a calendar event with reminders 1 week and 1 day before release.</p>
            </section>

            <section class="content-section">
                <h2>Configuration Files</h2>
                <table class="command-table">
                    <thead><tr><th>File</th><th>Purpose</th></tr></thead>
                    <tbody>
                        <tr><td><code>.env</code></td><td>Discord token and API keys</td></tr>
                        <tr><td><code>media_bot.db</code></td><td>SQLite database for recommendations and votes</td></tr>
                        <tr><td><code>credentials.json</code></td><td>Google OAuth credentials (optional)</td></tr>
                        <tr><td><code>token.pickle</code></td><td>Google auth token (auto-generated)</td></tr>
                    </tbody>
                </table>
            </section>

            <section class="content-section">
                <h2>Background Tasks & Real-Time Updates</h2>
                <p>The bot runs automated tasks and real-time updates to keep content fresh:</p>

                <h3>Real-Time Updates</h3>
                <ul>
                    <li><strong>Leaderboard on New Recommendation</strong> - When a new recommendation is submitted, the category leaderboard updates immediately</li>
                    <li><strong>Leaderboard on Like</strong> - When someone likes a recommendation, the leaderboard updates to reflect the new rankings</li>
                    <li><strong>Leaderboard on Delete</strong> - When an admin deletes a recommendation, it's removed from the database and leaderboard</li>
                    <li><strong>Menu Reset</strong> - The recommendation submission menu resets to its initial state after each submission or cancellation</li>
                </ul>

                <h3>Scheduled Tasks</h3>
                <ul>
                    <li><strong>Daily Random Recommendation</strong> - Posts a random recommendation from the database each day</li>
                    <li><strong>Hourly Leaderboard Updates</strong> - Backup update of all leaderboard posts with current like counts</li>
                </ul>

                <h3>Unreleased Media</h3>
                <ul>
                    <li><strong>Discord Timestamp</strong> - Unreleased media shows a Discord timestamp for the release date</li>
                    <li><strong>Google Calendar</strong> - Optionally auto-adds unreleased media to Google Calendar with reminders</li>
                </ul>
            </section>
        </div>
    </main>
</body>
</html>
