<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invite Battles Bot - Documentation</title>
    <style>
        :root {
            --bg-primary: #0f1419;
            --bg-secondary: #1a1f2e;
            --bg-card: #1e2433;
            --text-primary: #e7e9ea;
            --text-secondary: #8b98a5;
            --accent-gold: #ffd700;
            --accent-green: #2ecc71;
            --accent-purple: #9b59b6;
            --accent-orange: #e67e22;
            --accent-red: #e74c3c;
            --accent-blue: #3498db;
            --accent-crown: #ffd700;
            --accent-flame: #ff6b35;
            --border-color: #2f3542;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }

        /* Header */
        header {
            background: var(--bg-secondary);
            border-bottom: 1px solid var(--border-color);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .back-link {
            color: var(--accent-crown);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .bot-title {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .bot-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--accent-crown), var(--accent-flame));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }

        .bot-title h1 {
            font-size: 1.5rem;
        }

        /* Hero Section */
        .hero {
            padding: 60px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .hero-content {
            max-width: 800px;
        }

        .hero h2 {
            font-size: 2.5rem;
            margin-bottom: 16px;
            background: linear-gradient(135deg, var(--accent-crown), var(--accent-flame));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            color: var(--text-secondary);
            font-size: 1.2rem;
            margin-bottom: 24px;
        }

        .tech-stack {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }

        .tech-badge {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
        }

        /* Stats Section */
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            padding: 40px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .stat-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-crown);
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Section Styles */
        .section {
            padding: 50px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .section:last-child {
            border-bottom: none;
        }

        .section h3 {
            font-size: 1.75rem;
            margin-bottom: 24px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .section-icon {
            font-size: 1.5rem;
        }

        /* Features Grid */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .feature-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
        }

        .feature-card h4 {
            font-size: 1.1rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .feature-card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        /* Commands Table */
        .commands-table {
            width: 100%;
            border-collapse: collapse;
        }

        .commands-table th,
        .commands-table td {
            padding: 16px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .commands-table th {
            background: var(--bg-card);
            font-weight: 600;
            color: var(--text-secondary);
        }

        .commands-table tr:hover {
            background: var(--bg-card);
        }

        .command-name {
            font-family: 'Fira Code', monospace;
            background: var(--accent-crown);
            color: var(--bg-primary);
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 0.85rem;
        }

        .command-admin {
            background: var(--accent-orange);
            color: white;
        }

        /* Game Mechanics Grid */
        .mechanics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
        }

        .mechanic-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }

        .mechanic-card .mechanic-icon {
            font-size: 2.5rem;
            margin-bottom: 12px;
        }

        .mechanic-card h4 {
            font-size: 1rem;
            margin-bottom: 8px;
        }

        .mechanic-card p {
            color: var(--text-secondary);
            font-size: 0.85rem;
        }

        /* Perk Cards */
        .perk-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            border-left: 4px solid var(--accent-crown);
        }

        .perk-card.guesser {
            border-left-color: var(--accent-blue);
        }

        .perk-card.counter {
            border-left-color: var(--accent-red);
        }

        .perk-card h4 {
            font-size: 1.1rem;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .perk-card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        .perk-category {
            font-size: 1.2rem;
            margin-bottom: 16px;
            margin-top: 32px;
            color: var(--text-primary);
            font-weight: 600;
        }

        .perk-category:first-of-type {
            margin-top: 0;
        }

        /* Flow Diagram */
        .flow-steps {
            max-width: 700px;
        }

        .flow-step {
            display: flex;
            gap: 20px;
            margin-bottom: 24px;
            align-items: flex-start;
        }

        .flow-number {
            width: 36px;
            height: 36px;
            background: var(--accent-crown);
            color: var(--bg-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }

        .flow-content h4 {
            margin-bottom: 4px;
            font-size: 1.05rem;
        }

        .flow-content p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }

        /* Setup Section */
        .setup-steps {
            max-width: 800px;
        }

        .step {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: var(--accent-crown);
            color: var(--bg-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }

        .step-content h4 {
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .step-content p {
            color: var(--text-secondary);
        }

        .code-block {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            margin-top: 12px;
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            overflow-x: auto;
        }

        /* Footer */
        footer {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            padding: 24px 0;
            text-align: center;
            color: var(--text-secondary);
        }

        footer a {
            color: var(--accent-crown);
            text-decoration: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h2 {
                font-size: 1.8rem;
            }

            .commands-table {
                display: block;
                overflow-x: auto;
            }

            .step, .flow-step {
                flex-direction: column;
                gap: 12px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="back-link">
                    &larr; Back to All Bots
                </a>
                <div class="bot-title">
                    <div class="bot-icon">&#9876;</div>
                    <h1>Invite Battles Bot</h1>
                </div>
            </div>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <h2>King of the Hill for Server Invites</h2>
                    <p>
                        A competitive Discord game where users battle for their server invite to be displayed
                        in a channel. Submit an invite, set a secret number, and defend your throne while
                        challengers try to guess it. Features 12 perks with counter roles, coin rewards,
                        daily guess limits, cooldowns, an interactive guide, and 12 leaderboard categories.
                        Built with Discord Components v2.
                    </p>
                    <div class="tech-stack">
                        <span class="tech-badge">JavaScript</span>
                        <span class="tech-badge">Discord.js v14</span>
                        <span class="tech-badge">Components v2</span>
                        <span class="tech-badge">SQLite</span>
                        <span class="tech-badge">Node.js</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Stats Section -->
        <div class="container">
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-value">10</div>
                    <div class="stat-label">Slash Commands</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">12</div>
                    <div class="stat-label">Perk Types</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">12</div>
                    <div class="stat-label">Leaderboard Views</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">14</div>
                    <div class="stat-label">Database Tables</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">&#8734;</div>
                    <div class="stat-label">Multi-Server</div>
                </div>
            </div>
        </div>

        <!-- How It Works Section -->
        <section class="section">
            <div class="container">
                <h3><span class="section-icon">&#9876;</span> How It Works</h3>
                <div class="mechanics-grid">
                    <div class="mechanic-card">
                        <div class="mechanic-icon">&#128229;</div>
                        <h4>Submit Invite</h4>
                        <p>Post a message with a link or use /invite in a game channel</p>
                    </div>
                    <div class="mechanic-card">
                        <div class="mechanic-icon">&#128274;</div>
                        <h4>Set Secret Number</h4>
                        <p>Pick a number 1-100 via a private modal popup</p>
                    </div>
                    <div class="mechanic-card">
                        <div class="mechanic-icon">&#9200;</div>
                        <h4>Cooldown Period</h4>
                        <p>3-hour cooldown (configurable) after activation before guessing opens</p>
                    </div>
                    <div class="mechanic-card">
                        <div class="mechanic-icon">&#127919;</div>
                        <h4>Challengers Guess</h4>
                        <p>Up to 5 guesses per day (configurable). Guess within range to win</p>
                    </div>
                    <div class="mechanic-card">
                        <div class="mechanic-icon">&#128176;</div>
                        <h4>Earn Coins</h4>
                        <p>Correct guesses earn coin rewards shared with the economy bot</p>
                    </div>
                    <div class="mechanic-card">
                        <div class="mechanic-icon">&#128081;</div>
                        <h4>New King</h4>
                        <p>Winner's invite replaces the old one on the hill</p>
                    </div>
                    <div class="mechanic-card">
                        <div class="mechanic-icon">&#9989;</div>
                        <h4>Admin Approval</h4>
                        <p>All invites reviewed by admin before going live</p>
                    </div>
                    <div class="mechanic-card">
                        <div class="mechanic-icon">&#127922;</div>
                        <h4>Random Pick</h4>
                        <p>Admins can /pick a random invite from source channels</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Game Flow Section -->
        <section class="section">
            <div class="container">
                <h3><span class="section-icon">&#128260;</span> Game Flow</h3>
                <div class="flow-steps">
                    <div class="flow-step">
                        <div class="flow-number">1</div>
                        <div class="flow-content">
                            <h4>User submits an ad</h4>
                            <p>Via <code>/invite &lt;link&gt;</code> with an optional message, or by posting a message with any URL in a game channel.</p>
                        </div>
                    </div>
                    <div class="flow-step">
                        <div class="flow-number">2</div>
                        <div class="flow-content">
                            <h4>If the hill is empty &mdash; submit for approval</h4>
                            <p>A modal asks for a secret number (1-100). The invite is sent to the admin approval channel. Once approved, it's posted with interactive buttons.</p>
                        </div>
                    </div>
                    <div class="flow-step">
                        <div class="flow-number">3</div>
                        <div class="flow-content">
                            <h4>Cooldown period begins</h4>
                            <p>After activation, there's a configurable cooldown (default: 3 hours) before anyone can guess. The KOTH message displays a countdown timer.</p>
                        </div>
                    </div>
                    <div class="flow-step">
                        <div class="flow-number">4</div>
                        <div class="flow-content">
                            <h4>If the hill is occupied &mdash; join the queue</h4>
                            <p>Your invite is queued. Click the Guess button on the embed or use <code>/guess</code> to try to dethrone the current king.</p>
                        </div>
                    </div>
                    <div class="flow-step">
                        <div class="flow-number">5</div>
                        <div class="flow-content">
                            <h4>Guess close enough to win</h4>
                            <p>Each user gets up to <strong>5 guesses per day</strong> (configurable). Default range is 10, but admins can change it. King roles can make the range tighter. Perks like Double Guess, Precision, and Guess Steal affect the outcome.</p>
                        </div>
                    </div>
                    <div class="flow-step">
                        <div class="flow-number">6</div>
                        <div class="flow-content">
                            <h4>Correct guess &mdash; dethrone the king</h4>
                            <p>The old king is notified with a channel mention. The guesser earns <strong>coins</strong> (configurable reward). The winner's invite is submitted for admin approval. King perks like Extra Life and Last Stand may prevent dethronement.</p>
                        </div>
                    </div>
                    <div class="flow-step">
                        <div class="flow-number">7</div>
                        <div class="flow-content">
                            <h4>Auto-expiration after 7 days</h4>
                            <p>If nobody guesses the number within a week, the invite expires and the next person in queue is promoted.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="section">
            <div class="container">
                <h3><span class="section-icon">&#10024;</span> Key Features</h3>
                <div class="features-grid">
                    <div class="feature-card">
                        <h4>&#128081; King of the Hill</h4>
                        <p>Only one invite can reign per channel at a time. Defend your throne by choosing a hard-to-guess number.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#128270; Dual Input Detection</h4>
                        <p>Submit ads via slash command <code>/invite</code> or just paste a message with any URL &mdash; the bot detects discord.gg, youtube, twitch, linktree, and more.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#128176; Coin Rewards</h4>
                        <p>Earn coins for correctly guessing the secret number. Coin balances are shared with the Many Worlds economy bot via the same SQLite database.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#128197; Daily Guess Limit</h4>
                        <p>Each user gets up to 5 guesses per day per channel (configurable 1-20). Perks like Double Guess grant bonus guesses, while Guess Steal takes them away.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#9200; Guess Cooldown</h4>
                        <p>After a new ad is activated on the hill, there's a configurable cooldown (default 3 hours) before guessing opens. The KOTH message shows remaining time.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#127775; 12 Perks &amp; Counters</h4>
                        <p>5 king defensive perks, 3 guesser offensive perks, and 4 counter perks that negate king abilities. All tied to Discord roles.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#128202; 12 Leaderboard Views</h4>
                        <p>Interactive leaderboard with dropdown menu: streaks, wins, defenders, aim, correct guesses, total time, activity, coins, current king, and 3 global views.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#128218; Interactive Guide</h4>
                        <p>Admins post a 6-page interactive guide with <code>/guide</code>. Users navigate with Previous/Next buttons. Refresh button updates content after bot updates.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#128280; Components v2</h4>
                        <p>All bot messages use Discord Components v2 containers with accent colors, text displays, separators, and action rows &mdash; no legacy embeds.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#127760; Multi-Server Support</h4>
                        <p>Independent game state per server and channel. Global leaderboards aggregate across all servers.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#9989; Admin Approval Flow</h4>
                        <p>All invites must be reviewed and approved by an admin before going live. Approve or reject with buttons in the approval channel.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#128172; Game Threads</h4>
                        <p>When an admin adds a game channel, a dedicated thread is automatically created for the King of the Hill battle.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#127922; Random Invite Pick</h4>
                        <p>Admins can use <code>/pick</code> to randomly select an invite from configured source channels when nobody submits manually.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#127919; Configurable Guess Range</h4>
                        <p>Admins set the base guess range. Assign roles to the king that make the range tighter, making it harder for challengers to win.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Commands Section -->
        <section class="section">
            <div class="container">
                <h3><span class="section-icon">&#128187;</span> Slash Commands</h3>
                <table class="commands-table">
                    <thead>
                        <tr>
                            <th>Command</th>
                            <th>Description</th>
                            <th>Access</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="command-name">/invite &lt;link&gt;</span></td>
                            <td>Submit your ad (link + optional message). If the hill is empty, you become king. Otherwise, your ad is queued.</td>
                            <td>Everyone</td>
                        </tr>
                        <tr>
                            <td><span class="command-name">/guess &lt;number&gt; &lt;link&gt;</span></td>
                            <td>Guess the king's secret number (1-100). You must also provide your link and optional ad message. Checks cooldown and daily limit before processing.</td>
                            <td>Everyone</td>
                        </tr>
                        <tr>
                            <td><span class="command-name">/tip</span></td>
                            <td>Get a hint about the secret number (20-wide range). Requires Guess Tip perk role.</td>
                            <td>Perk Role</td>
                        </tr>
                        <tr>
                            <td><span class="command-name">/leaderboard</span></td>
                            <td>View interactive leaderboard with 12 views and pagination (server + global). Categories include streaks, wins, aim, coins, and more.</td>
                            <td>Everyone</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/setup</span></td>
                            <td>Initialize Invite Battles for the server. Run once to get started.</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/guide [#channel]</span></td>
                            <td>Post an interactive 6-page guide explaining the game, perks, leaderboards, and commands. Includes Previous/Next/Refresh buttons.</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/config channel add/remove/list</span></td>
                            <td>Add, remove, or list game channels. Creates a game thread automatically on add.</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/config perks add/remove/list</span></td>
                            <td>Assign or remove any of the 12 perks (5 king, 3 guesser, 4 counter) to a Discord role.</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/config approval &lt;#channel&gt;</span></td>
                            <td>Set the approval channel where invites are sent for admin review before going live. Leave empty to clear.</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/config source add/remove/list</span></td>
                            <td>Add or remove source channels that <code>/pick</code> scans for ad messages with links.</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/config guessrange &lt;range&gt;</span></td>
                            <td>Set the base guess range (1-50). Guesses within this distance from the secret number count as a hit.</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/config rangerole add/remove/list</span></td>
                            <td>Assign a role a custom guess range. When the king has this role, guessers must be within a tighter range.</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/config guesses &lt;limit&gt;</span></td>
                            <td>Set the daily guess limit per user (1-20, default: 5). Perks and penalties modify this per-user.</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/config cooldown &lt;hours&gt;</span></td>
                            <td>Set the guess cooldown after a new ad is activated (0-24 hours, default: 3). Set to 0 to disable.</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/config coins &lt;amount&gt;</span></td>
                            <td>Set the coin reward for correctly guessing the secret number (0-1000, default: 10). Set to 0 to disable.</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/config tips &lt;limit&gt;</span></td>
                            <td>Set the daily tip limit per user (0-10).</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/pick [#channel]</span></td>
                            <td>Randomly pick an invite from source channels and send it for admin approval. Defaults to the current game channel.</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/forcepick &lt;@user&gt; &lt;link&gt; [#channel]</span></td>
                            <td>Force-pick a specific user's invite for the hill. The invite is sent to the approval channel for review before going live.</td>
                            <td>Admin</td>
                        </tr>
                        <tr>
                            <td><span class="command-name command-admin">/reset [#channel] [clear-pending]</span></td>
                            <td>Clear the active invite from the hill. Archives the reign and removes the embed. Optionally cancels all pending approvals for the channel.</td>
                            <td>Admin</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Perks Section -->
        <section class="section">
            <div class="container">
                <h3><span class="section-icon">&#127775;</span> Perk System (12 Perks)</h3>
                <p style="color: var(--text-secondary); margin-bottom: 24px;">
                    Admins assign perks to roles via <code>/config perks add &lt;perk&gt; @role</code>. Members with the role gain the perk ability. Counter perks negate king perks when the guesser holds the counter role.
                </p>

                <p class="perk-category">&#128081; King Perks (Defensive)</p>
                <div class="features-grid" style="margin-bottom: 24px;">
                    <div class="perk-card">
                        <h4>&#128155; Extra Life</h4>
                        <p>If the king has this perk and someone guesses their number, instead of losing the hill, the bot automatically picks a new random secret number. <strong>One-time use per reign.</strong></p>
                    </div>
                    <div class="perk-card">
                        <h4>&#128260; Number Reset</h4>
                        <p>Allows the king to manually reset their secret number to a new random value. Useful for refreshing a stale game.</p>
                    </div>
                    <div class="perk-card">
                        <h4>&#128167; Guess Steal</h4>
                        <p>When a challenger guesses wrong, they <strong>lose an extra daily guess</strong> as a penalty. Makes the king harder to dethrone over time.</p>
                    </div>
                    <div class="perk-card">
                        <h4>&#128566; Intimidate</h4>
                        <p>Wrong guessers <strong>don't see how close they were</strong> to the secret number. They only get a generic "Wrong!" message instead of proximity feedback.</p>
                    </div>
                    <div class="perk-card">
                        <h4>&#128170; Last Stand</h4>
                        <p>When someone guesses correctly, there's a <strong>25% chance</strong> the king survives anyway. The secret number is reset and the king stays on the hill.</p>
                    </div>
                </div>

                <p class="perk-category">&#127919; Guesser Perks (Offensive)</p>
                <div class="features-grid" style="margin-bottom: 24px;">
                    <div class="perk-card guesser">
                        <h4>&#128161; Guess Tip</h4>
                        <p>Use <code>/tip</code> to get a hint &mdash; a 20-wide range containing the secret number (e.g., "between 35 and 55"). Limited uses per day, configurable by admin.</p>
                    </div>
                    <div class="perk-card guesser">
                        <h4>&#10133; Double Guess</h4>
                        <p>Grants <strong>+1 extra guess per day</strong> beyond the server's daily limit. Stacks with the base limit (e.g., 5 + 1 = 6 guesses per day).</p>
                    </div>
                    <div class="perk-card guesser">
                        <h4>&#127919; Precision</h4>
                        <p>Your effective guess range is <strong>widened by +5</strong>, making it easier to hit. If the base range is 10, you hit within 15 of the secret number.</p>
                    </div>
                </div>

                <p class="perk-category">&#128308; Counter Perks (Negate King Perks)</p>
                <div class="features-grid">
                    <div class="perk-card counter">
                        <h4>&#10060; Counter: Extra Life</h4>
                        <p>If the guesser holds this perk, the king's <strong>Extra Life is negated</strong>. The correct guess dethrones the king normally.</p>
                    </div>
                    <div class="perk-card counter">
                        <h4>&#10060; Counter: Guess Steal</h4>
                        <p>Negates the king's <strong>Guess Steal</strong> penalty. The guesser won't lose an extra daily guess on a wrong answer.</p>
                    </div>
                    <div class="perk-card counter">
                        <h4>&#10060; Counter: Last Stand</h4>
                        <p>Negates the king's <strong>Last Stand</strong>. The 25% survival chance is removed &mdash; a correct guess always dethrones.</p>
                    </div>
                    <div class="perk-card counter">
                        <h4>&#10060; Counter: Intimidate</h4>
                        <p>Negates the king's <strong>Intimidate</strong>. The guesser still sees proximity feedback ("You were X away") on wrong guesses.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Leaderboard Section -->
        <section class="section">
            <div class="container">
                <h3><span class="section-icon">&#127942;</span> Leaderboard System (12 Views)</h3>
                <p style="color: var(--text-secondary); margin-bottom: 24px;">
                    The <code>/leaderboard</code> command displays an interactive Components v2 message with a dropdown menu to switch views and pagination buttons to navigate pages.
                </p>
                <div class="features-grid">
                    <div class="feature-card">
                        <h4>&#128336; Longest Streak (Server)</h4>
                        <p>Users whose invites lasted the longest on the hill, measured by duration.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#127942; Most Wins (Server)</h4>
                        <p>Users who have dethroned the most kings by guessing correctly.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#128737; Top Defenders (Server)</h4>
                        <p>Users who survived the most failed guesses during a single reign.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#128081; Current King</h4>
                        <p>Shows the active invite holder in each game channel.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#127919; Best Aim (Server)</h4>
                        <p>Closest average guess distance from the secret number. Requires at least 3 guesses to qualify.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#9989; Most Correct Guesses (Server)</h4>
                        <p>Users with the most successful guesses that dethroned a king.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#9200; Total Time as King (Server)</h4>
                        <p>Cumulative time spent as king across all reigns in the server.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#128200; Most Active Guessers (Server)</h4>
                        <p>Total number of guesses made, regardless of correctness.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#128176; Top Coin Earners (Server)</h4>
                        <p>Most coins earned from correct guesses. Shows total earned and current balance.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#127760; Longest Streak (Global)</h4>
                        <p>Longest reigns across all servers the bot is in.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#127760; Most Wins (Global)</h4>
                        <p>Top dethronements across all servers.</p>
                    </div>
                    <div class="feature-card">
                        <h4>&#127760; Total Time as King (Global)</h4>
                        <p>Cumulative time as king across all servers.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Database Section -->
        <section class="section">
            <div class="container">
                <h3><span class="section-icon">&#128451;</span> Database Architecture</h3>
                <p style="color: var(--text-secondary); margin-bottom: 24px;">
                    SQLite database with 14 tables, all scoped by <code>guild_id</code> for multi-server isolation. The <code>user_coins</code> table is shared with the Many Worlds economy bot.
                </p>
                <div class="features-grid">
                    <div class="feature-card">
                        <h4>guild_config</h4>
                        <p>Per-server settings: tip limit, approval channel, guess range, daily guess limit, cooldown hours, coin reward, guide channel.</p>
                    </div>
                    <div class="feature-card">
                        <h4>game_channels</h4>
                        <p>Which channels run the game. Multiple per server. Tracks associated game thread IDs.</p>
                    </div>
                    <div class="feature-card">
                        <h4>active_invites</h4>
                        <p>Current king per channel: user, link, secret number, ad message, expiration, guess count, extra life status.</p>
                    </div>
                    <div class="feature-card">
                        <h4>invite_queue</h4>
                        <p>FIFO queue of pending invites waiting to claim the hill.</p>
                    </div>
                    <div class="feature-card">
                        <h4>guess_log</h4>
                        <p>Every guess recorded with distance from secret number. Powers daily limit enforcement and leaderboards.</p>
                    </div>
                    <div class="feature-card">
                        <h4>reign_history</h4>
                        <p>Archived reigns with duration, guesses survived, end reason, and who dethroned them. Powers leaderboards.</p>
                    </div>
                    <div class="feature-card">
                        <h4>perk_roles</h4>
                        <p>Maps Discord roles to all 12 perk types (king, guesser, and counter perks).</p>
                    </div>
                    <div class="feature-card">
                        <h4>tip_usage</h4>
                        <p>Tracks daily tip usage per user to enforce configurable limits.</p>
                    </div>
                    <div class="feature-card">
                        <h4>pending_approvals</h4>
                        <p>Invites awaiting admin review. Stores user, link, secret number, and approval status (pending/approved/rejected).</p>
                    </div>
                    <div class="feature-card">
                        <h4>source_channels</h4>
                        <p>Channels that <code>/pick</code> scans for ad messages with links. Multiple per server.</p>
                    </div>
                    <div class="feature-card">
                        <h4>guess_range_roles</h4>
                        <p>Maps Discord roles to custom guess ranges. When the king has the role, guessers must be within a tighter range.</p>
                    </div>
                    <div class="feature-card">
                        <h4>user_coins</h4>
                        <p>Coin balances and total earned per user. Shared database table with the economy bot for cross-bot integration.</p>
                    </div>
                    <div class="feature-card">
                        <h4>guess_penalties</h4>
                        <p>Tracks extra guess penalties from the Guess Steal perk. Resets daily.</p>
                    </div>
                    <div class="feature-card">
                        <h4>guide_messages</h4>
                        <p>Tracks where interactive guide messages are deployed for refresh functionality.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Setup Section -->
        <section class="section">
            <div class="container">
                <h3><span class="section-icon">&#128640;</span> Setup Guide</h3>
                <div class="setup-steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Create Discord Bot</h4>
                            <p>Go to the Discord Developer Portal, create a new application, and add a bot. Enable <strong>Message Content</strong> and <strong>Server Members</strong> privileged intents.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Configure Bot Token</h4>
                            <p>Edit <code>config.json</code> with your credentials:</p>
                            <div class="code-block">
{<br>
&nbsp;&nbsp;"token": "YOUR_BOT_TOKEN",<br>
&nbsp;&nbsp;"clientId": "YOUR_APPLICATION_ID",<br>
&nbsp;&nbsp;"guildId": "YOUR_DEV_GUILD_ID"<br>
}
                            </div>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Install Dependencies</h4>
                            <div class="code-block">npm install</div>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h4>Register Slash Commands</h4>
                            <div class="code-block">
npm run deploy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Global (all servers)<br>
npm run deploy -- --dev&nbsp;&nbsp;# Dev guild only (instant)
                            </div>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h4>Start the Bot</h4>
                            <div class="code-block">npm start</div>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">6</div>
                        <div class="step-content">
                            <h4>In Discord: Initialize a Server</h4>
                            <div class="code-block">
/setup<br>
/config channel add #invite-battles<br>
/config approval #invite-approvals<br>
/config source add #invite-sharing<br>
/config guesses 5<br>
/config cooldown 3<br>
/config coins 10<br>
/guide #rules
                            </div>
                            <p style="margin-top: 8px; color: var(--text-secondary);">Set up a game channel, approval channel, source channel, configure daily guesses, cooldown, coin reward, and post the interactive guide.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Permissions Section -->
        <section class="section">
            <div class="container">
                <h3><span class="section-icon">&#128273;</span> Required Permissions</h3>
                <div class="features-grid">
                    <div class="feature-card">
                        <h4>OAuth2 Scopes</h4>
                        <p>
                            &#9989; bot<br>
                            &#9989; applications.commands
                        </p>
                    </div>
                    <div class="feature-card">
                        <h4>Bot Permissions</h4>
                        <p>
                            &#9989; Send Messages<br>
                            &#9989; Embed Links<br>
                            &#9989; Manage Messages<br>
                            &#9989; Use Slash Commands<br>
                            &#9989; Read Message History<br>
                            &#9989; Create Public Threads<br>
                            &#9989; Send Messages in Threads
                        </p>
                    </div>
                    <div class="feature-card">
                        <h4>Gateway Intents (Privileged)</h4>
                        <p>
                            &#9989; Guilds<br>
                            &#9989; GuildMessages<br>
                            &#9989; MessageContent &#128312;<br>
                            &#9989; GuildMembers &#128312;<br>
                            <small>&#128312; = Privileged, enable in Developer Portal</small>
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>Invite Battles Bot Documentation | <a href="index.html">Back to Bot Hub</a></p>
            <p style="margin-top: 10px; font-size: 0.85rem;">
                Battle for the hill. Defend your throne. Claim the crown.
            </p>
        </div>
    </footer>
</body>
</html>
